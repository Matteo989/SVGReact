!function(Q){function F(t){if(B[t])return B[t].exports;var C=B[t]={i:t,l:!1,exports:{}};return Q[t].call(C.exports,C,C.exports,F),C.l=!0,C.exports}var B={};F.m=Q,F.c=B,F.d=function(Q,B,t){F.o(Q,B)||Object.defineProperty(Q,B,{configurable:!1,enumerable:!0,get:t})},F.n=function(Q){var B=Q&&Q.__esModule?function(){return Q.default}:function(){return Q};return F.d(B,"a",B),B},F.o=function(Q,F){return Object.prototype.hasOwnProperty.call(Q,F)},F.p="",F(F.s=0)}([function(module,exports,__webpack_require__){"use strict";eval('\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\n__webpack_require__(1);\nvar svg = "http://www.w3.org/2000/svg";\n\nvar attrib_id = function () {\n    var id = 0;\n    return function (se) {\n        return id++;\n    };\n}();\n\nvar Ancre = function () {\n    function Ancre(x, y, id, type) {\n        _classCallCheck(this, Ancre);\n\n        this._type = type;\n        this._x = x;\n        this._y = y;\n        this._id = id;\n        this._taille = 8;\n        if (this._type == "origin") {} else if (this._type == "rect_resize") {\n            this.ancre = document.createElementNS(svg, "rect");\n            this.ancre.setAttribute("id", this._id);\n            this.ancre.setAttribute("class", "resize");\n            this.ancre.setAttribute("width", this.taille);\n            this.ancre.setAttribute("height", this.taille);\n            this.ancre.setAttribute("x", this._x);\n            this.ancre.setAttribute("y", this._y);\n            this.ancre.setAttribute("fill", "black");\n            var svgDoc = document.querySelector(\'svg\');\n            svgDoc.appendChild(this.ancre);\n        } else if (this._type == "circle_resize" || this._type == "line_adjust") {\n            this.ancre = document.createElementNS(svg, "rect");\n            this.ancre.setAttribute("id", this._id);\n            this.ancre.setAttribute("class", "resize_ew");\n            this.ancre.setAttribute("width", this.taille);\n            this.ancre.setAttribute("height", this.taille);\n            this.ancre.setAttribute("x", this._x);\n            this.ancre.setAttribute("y", this._y);\n            this.ancre.setAttribute("fill", "black");\n            var svgDoc = document.querySelector(\'svg\');\n            svgDoc.appendChild(this.ancre);\n        }\n    }\n\n    _createClass(Ancre, [{\n        key: "setdx",\n        value: function setdx(x) {\n            this._x += x;\n        }\n    }, {\n        key: "setdy",\n        value: function setdy(y) {\n            this._y += y;\n        }\n    }, {\n        key: "moveancre",\n        value: function moveancre() {\n            if (this._type == "rect_resize" || this._type == "circle_resize" || this._type == "line_adjust") {\n                this.ancre.setAttribute("x", this._x);\n                this.ancre.setAttribute("y", this._y);\n            }\n        }\n    }, {\n        key: "move",\n        value: function move(x, y) {\n            this.setdx(x);\n            this.setdy(y);\n            this.moveancre();\n            var forme_actu = document.getElementById(this.id);\n            forme_actu.setAttribute("x", this.x);\n            forme_actu.setAttribute("y", this.y);\n        }\n    }, {\n        key: "x",\n        get: function get() {\n            return this._x;\n        }\n    }, {\n        key: "y",\n        get: function get() {\n            return this._y;\n        }\n    }, {\n        key: "taille",\n        get: function get() {\n            return this._taille;\n        }\n    }]);\n\n    return Ancre;\n}();\n\n;\n\nvar Forme = function () {\n    function Forme(ide) {\n        _classCallCheck(this, Forme);\n\n        this.ancre = new Ancre(50, 50, this.id, "origin");\n        this.color = "yellow";\n        this.id = "forme" + ide;\n    }\n\n    _createClass(Forme, [{\n        key: "dessinerAncre",\n        value: function dessinerAncre() {}\n    }]);\n\n    return Forme;\n}();\n\n;\n\nvar Rectangle = function (_Forme) {\n    _inherits(Rectangle, _Forme);\n\n    function Rectangle(ide) {\n        _classCallCheck(this, Rectangle);\n\n        var _this = _possibleConstructorReturn(this, (Rectangle.__proto__ || Object.getPrototypeOf(Rectangle)).call(this));\n\n        _this.id = ide;\n        _this.hauteur = 80;\n        _this.largeur = 120;\n        var newRect = document.createElementNS(svg, "rect");\n        newRect.setAttribute("id", _this.id);\n        newRect.setAttribute("class", "draggable");\n        newRect.setAttribute("width", _this.largeur);\n        newRect.setAttribute("height", _this.hauteur);\n        newRect.setAttribute("x", _this.ancre.x + _this.ancre.taille / 2);\n        newRect.setAttribute("y", _this.ancre.y + _this.ancre.taille / 2);\n        newRect.setAttribute("fill", _this.color);\n        newRect.setAttribute("stroke", "black");\n        var svgDoc = document.querySelector(\'svg\');\n        svgDoc.appendChild(newRect);\n        _this.resize = new Ancre(_this.ancre.x + _this.largeur, _this.ancre.y + _this.hauteur, _this.id, "rect_resize");\n        return _this;\n    }\n\n    _createClass(Rectangle, [{\n        key: "move",\n        value: function move(x, y) {\n            this.ancre.setdx(x);\n            this.ancre.setdy(y);\n            this.resize.setdx(x);\n            this.resize.setdy(y);\n            this.resize.moveancre();\n            var forme_actu = document.getElementById(this.id);\n            forme_actu.setAttribute("x", this.ancre.x + this.ancre.taille / 2);\n            forme_actu.setAttribute("y", this.ancre.y + this.ancre.taille / 2);\n        }\n        /*resize(x, y){\r\n            this.ancre.setdx(x);\r\n            this.ancre.setdy(y);\r\n            this.resize.setdx(x);\r\n            this.resize.setdy(y);\r\n            this.resize.moveancre();\r\n            var forme_actu = document.getElementById(this.id);\r\n            forme_actu.setAttribute("width", (this.ancre.x + this.resize.x));\r\n            forme_actu.setAttribute("height", (this.ancre.y + this.resize.y));\r\n        }*/\n\n    }]);\n\n    return Rectangle;\n}(Forme);\n\n;\n\nvar Circle = function (_Forme2) {\n    _inherits(Circle, _Forme2);\n\n    function Circle(ide) {\n        _classCallCheck(this, Circle);\n\n        var _this2 = _possibleConstructorReturn(this, (Circle.__proto__ || Object.getPrototypeOf(Circle)).call(this));\n\n        _this2.id = ide;\n        _this2.rayon = 40;\n        var newCircle = document.createElementNS(svg, "circle");\n        newCircle.setAttribute("id", _this2.id);\n        newCircle.setAttribute("class", "draggable");\n        newCircle.setAttribute("cx", _this2.ancre.x);\n        newCircle.setAttribute("cy", _this2.ancre.y);\n        newCircle.setAttribute("r", _this2.rayon);\n        newCircle.setAttribute("fill", _this2.color);\n        newCircle.setAttribute("stroke", "black");\n        var svgDoc = document.querySelector(\'svg\');\n        svgDoc.appendChild(newCircle);\n        _this2.resize = new Ancre(_this2.ancre.x + _this2.rayon - _this2.ancre.taille / 2, _this2.ancre.y, _this2.id, "circle_resize");\n        return _this2;\n    }\n\n    _createClass(Circle, [{\n        key: "move",\n        value: function move(x, y) {\n            this.ancre.setdx(x);\n            this.ancre.setdy(y);\n            this.resize.setdx(x);\n            this.resize.setdy(y);\n            this.resize.moveancre();\n            var forme_actu = document.getElementById(this.id);\n            forme_actu.setAttribute("cx", this.ancre.x + this.ancre.taille / 2);\n            forme_actu.setAttribute("cy", this.ancre.y + this.ancre.taille / 2);\n        }\n    }]);\n\n    return Circle;\n}(Forme);\n\nvar Ligne = function (_Forme3) {\n    _inherits(Ligne, _Forme3);\n\n    function Ligne(ide) {\n        _classCallCheck(this, Ligne);\n\n        var _this3 = _possibleConstructorReturn(this, (Ligne.__proto__ || Object.getPrototypeOf(Ligne)).call(this));\n\n        _this3.id = ide;\n        var newLine = document.createElementNS(svg, "line");\n        newLine.setAttribute("id", _this3.id);\n        newLine.setAttribute("class", "draggable");\n        newLine.setAttribute("x1", _this3.ancre.x);\n        newLine.setAttribute("y1", _this3.ancre.y);\n        newLine.setAttribute("x2", _this3.ancre.x + 100);\n        newLine.setAttribute("y2", _this3.ancre.y);\n        newLine.setAttribute("style", "stroke:rgb(255,0,0);stroke-width:4");\n        var svgDoc = document.querySelector(\'svg\');\n        svgDoc.appendChild(newLine);\n        _this3.gauche = new Ancre(_this3.ancre.x - _this3.ancre.taille / 2, _this3.ancre.y - _this3.ancre.taille / 2, _this3.id, "line_adjust");\n        _this3.droite = new Ancre(_this3.ancre.x + 100 - _this3.ancre.taille / 2, _this3.ancre.y - _this3.ancre.taille / 2, _this3.id, "line_adjust");\n        return _this3;\n    }\n\n    _createClass(Ligne, [{\n        key: "move",\n        value: function move(x, y) {\n            this.gauche.setdx(x);\n            this.gauche.setdy(y);\n            this.droite.setdx(x);\n            this.droite.setdy(y);\n            this.gauche.moveancre();\n            this.droite.moveancre();\n            var forme_actu = document.getElementById(this.id);\n            forme_actu.setAttribute("x1", this.gauche.x + this.ancre.taille / 2);\n            forme_actu.setAttribute("y1", this.gauche.y + this.ancre.taille / 2);\n            forme_actu.setAttribute("x2", this.droite.x + this.ancre.taille / 2);\n            forme_actu.setAttribute("y2", this.droite.y + this.ancre.taille / 2);\n        }\n    }]);\n\n    return Ligne;\n}(Forme);\n\nvar Formes = function () {\n    function Formes(type, id) {\n        _classCallCheck(this, Formes);\n\n        this.formes = new Array();\n    }\n\n    _createClass(Formes, [{\n        key: "addForme",\n        value: function addForme(type, id) {\n            if (type == "rect") {\n                this.formes[id] = new Rectangle(id);\n            } else if (type == "circle") {\n                this.formes[id] = new Circle(id);\n            } else if (type == "ligne") {\n                this.formes[id] = new Ligne(id);\n            }\n        }\n    }]);\n\n    return Formes;\n}();\n\n;\n\nfunction initScript() {\n    var svg = "http://www.w3.org/2000/svg";\n    var svgDoc = document.querySelector(\'svg\');\n    var canvas = new Formes();\n\n    function getRandomInt(max) {\n        return Math.floor(Math.random() * Math.floor(max));\n    }\n\n    var drawCircle = document.getElementById(\'circle\');\n    drawCircle.onclick = function cree_cercle(evt) {\n        canvas.addForme("circle", attrib_id());\n        console.log(svgDoc);\n    };\n\n    var drawRect = document.getElementById(\'rect\');\n    drawRect.onclick = function cree_rectangle(evt) {\n        canvas.addForme("rect", attrib_id());\n        console.log(svgDoc);\n    };\n\n    var drawLine = document.getElementById(\'ligne\');\n    drawLine.onclick = function cree_rectangle(evt) {\n        canvas.addForme("ligne", attrib_id());\n        console.log(svgDoc);\n    };\n\n    var selectedElement = 0;\n    var currentX = 0;\n    var currentY = 0;\n    var formeX = 0;\n    var formeY = 0;\n\n    svgDoc.addEventListener(\'mousedown\', function (evt) {\n        selectedElement = evt.target;\n        currentX = evt.clientX;\n        currentY = evt.clientY;\n        formeX = parseFloat(selectedElement.getAttributeNS(null, "x"));\n        formeY = parseFloat(selectedElement.getAttributeNS(null, "y"));\n\n        var onmousemove = function onmousemove(evt) {\n            selectedElement = evt.target;\n            var dx = evt.clientX - currentX;\n            var dy = evt.clientY - currentY;\n            //formeX += dx;\n            //formeY += dy;\n            if (selectedElement != 0) {\n                if (selectedElement != svgDoc) {\n                    canvas.formes[parseFloat(selectedElement.getAttributeNS(null, "id"))].move(dx, dy);\n                }\n                //    selectedElement.setAttribute("x", formeX);\n                //    selectedElement.setAttribute("y", formeY);\n            }\n            currentX = evt.clientX;\n            currentY = evt.clientY;\n        };\n\n        svgDoc.addEventListener(\'mousemove\', onmousemove, false);\n\n        svgDoc.addEventListener(\'mouseup\', function (evt) {\n            if (selectedElement != 0) {\n                selectedElement = 0;\n            }\n            svgDoc.removeEventListener(\'mousemove\', onmousemove);\n        }, false);\n    }, false);\n}\nwindow.addEventListener(\'load\', initScript);\n\n/*var pt = svgDoc.createSVGPoint();\r\n   \r\n\n   function cursorPoint(evt){\r\n       pt.x = evt.clientX;\r\n       pt.y = evt.clientY;\r\n       //il manque une transformation si le canvas est décalé ou tourné ...\r\n   \r\n\n   svgDoc.addEventListener(\'mousemove\', function(evt) {\r\n       var loc = cursorPoint(evt);\r\n       var coords = new Object();\r\n       coords.X = pt.x;\r\n       coords.Y = pt.y;\r\n       var coordoonees = document.querySelector(\'#coordo\');\r\n       coordoonees.innerHTML = "Coordonnés du curseur : X = " + coords.X + " ; Y = " + coords.Y;\r\n   }, false);*///# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguanM/OTU1MiJdLCJuYW1lcyI6WyJyZXF1aXJlIiwic3ZnIiwiYXR0cmliX2lkIiwiaWQiLCJzZSIsIkFuY3JlIiwieCIsInkiLCJ0eXBlIiwiX3R5cGUiLCJfeCIsIl95IiwiX2lkIiwiX3RhaWxsZSIsImFuY3JlIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50TlMiLCJzZXRBdHRyaWJ1dGUiLCJ0YWlsbGUiLCJzdmdEb2MiLCJxdWVyeVNlbGVjdG9yIiwiYXBwZW5kQ2hpbGQiLCJzZXRkeCIsInNldGR5IiwibW92ZWFuY3JlIiwiZm9ybWVfYWN0dSIsImdldEVsZW1lbnRCeUlkIiwiRm9ybWUiLCJpZGUiLCJjb2xvciIsIlJlY3RhbmdsZSIsImhhdXRldXIiLCJsYXJnZXVyIiwibmV3UmVjdCIsInJlc2l6ZSIsIkNpcmNsZSIsInJheW9uIiwibmV3Q2lyY2xlIiwiTGlnbmUiLCJuZXdMaW5lIiwiZ2F1Y2hlIiwiZHJvaXRlIiwiRm9ybWVzIiwiZm9ybWVzIiwiQXJyYXkiLCJpbml0U2NyaXB0IiwiY2FudmFzIiwiZ2V0UmFuZG9tSW50IiwibWF4IiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiZHJhd0NpcmNsZSIsIm9uY2xpY2siLCJjcmVlX2NlcmNsZSIsImV2dCIsImFkZEZvcm1lIiwiY29uc29sZSIsImxvZyIsImRyYXdSZWN0IiwiY3JlZV9yZWN0YW5nbGUiLCJkcmF3TGluZSIsInNlbGVjdGVkRWxlbWVudCIsImN1cnJlbnRYIiwiY3VycmVudFkiLCJmb3JtZVgiLCJmb3JtZVkiLCJhZGRFdmVudExpc3RlbmVyIiwidGFyZ2V0IiwiY2xpZW50WCIsImNsaWVudFkiLCJwYXJzZUZsb2F0IiwiZ2V0QXR0cmlidXRlTlMiLCJvbm1vdXNlbW92ZSIsImR4IiwiZHkiLCJtb3ZlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIndpbmRvdyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBLG1CQUFBQSxDQUFRLENB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LElBQUljLE9BQWY7QUFDQUwsdUJBQVdULElBQUllLE9BQWY7QUFDSCxTQWhCRDs7QUFrQkFuRCxlQUFPZ0QsZ0JBQVAsQ0FBd0IsV0FBeEIsRUFBcUNNLFdBQXJDLEVBQWtELEtBQWxEOztBQUVBdEQsZUFBT2dELGdCQUFQLENBQXdCLFNBQXhCLEVBQW1DLFVBQVNaLEdBQVQsRUFBYztBQUM3QyxnQkFBSU8sbUJBQW1CLENBQXZCLEVBQTBCO0FBQ3RCQSxrQ0FBa0IsQ0FBbEI7QUFDSDtBQUNEM0MsbUJBQU8wRCxtQkFBUCxDQUEyQixXQUEzQixFQUF3Q0osV0FBeEM7QUFDSCxTQUxELEVBS0csS0FMSDtBQU1ILEtBakNELEVBaUNHLEtBakNIO0FBcUNIO0FBQ0RLLE9BQU9YLGdCQUFQLENBQXdCLE1BQXhCLEVBQStCdEIsVUFBL0I7O0FBZ0JDIiwiZmlsZSI6IjAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJyZXF1aXJlKFwiLi9zdHlsZXNoZWV0cy9zdHlsZXMuc2Nzc1wiKTtcclxudmFyIHN2ZyA9IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIjtcclxuXHJcbnZhciBhdHRyaWJfaWQgPSAoZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgaWQgPSAwO1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uKHNlKXtyZXR1cm4gaWQrKzt9O1xyXG59KSAoKTtcclxuXHJcbmNsYXNzIEFuY3JlIHtcclxuICAgIGNvbnN0cnVjdG9yKHgsIHksIGlkLCB0eXBlKSB7XHJcbiAgICAgICAgdGhpcy5fdHlwZSA9IHR5cGU7XHJcbiAgICAgICAgdGhpcy5feCA9IHg7XHJcbiAgICAgICAgdGhpcy5feSA9IHk7XHJcbiAgICAgICAgdGhpcy5faWQgPSBpZDtcclxuICAgICAgICB0aGlzLl90YWlsbGUgPSA4O1xyXG4gICAgICAgIGlmICh0aGlzLl90eXBlID09IFwib3JpZ2luXCIpe1xyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZih0aGlzLl90eXBlID09IFwicmVjdF9yZXNpemVcIil7XHJcbiAgICAgICAgICAgIHRoaXMuYW5jcmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnLCBcInJlY3RcIik7XHJcbiAgICAgICAgICAgIHRoaXMuYW5jcmUuc2V0QXR0cmlidXRlKFwiaWRcIiwgdGhpcy5faWQpO1xyXG4gICAgICAgICAgICB0aGlzLmFuY3JlLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwicmVzaXplXCIpO1xyXG4gICAgICAgICAgICB0aGlzLmFuY3JlLnNldEF0dHJpYnV0ZShcIndpZHRoXCIsIHRoaXMudGFpbGxlKTtcclxuICAgICAgICAgICAgdGhpcy5hbmNyZS5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIiwgdGhpcy50YWlsbGUpO1xyXG4gICAgICAgICAgICB0aGlzLmFuY3JlLnNldEF0dHJpYnV0ZShcInhcIiwgdGhpcy5feCk7XHJcbiAgICAgICAgICAgIHRoaXMuYW5jcmUuc2V0QXR0cmlidXRlKFwieVwiLCB0aGlzLl95KTtcclxuICAgICAgICAgICAgdGhpcy5hbmNyZS5zZXRBdHRyaWJ1dGUoXCJmaWxsXCIsIFwiYmxhY2tcIik7XHJcbiAgICAgICAgICAgIHZhciBzdmdEb2MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzdmcnKTtcclxuICAgICAgICAgICAgc3ZnRG9jLmFwcGVuZENoaWxkKHRoaXMuYW5jcmUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmKHRoaXMuX3R5cGUgPT0gXCJjaXJjbGVfcmVzaXplXCIgfHwgdGhpcy5fdHlwZSA9PSBcImxpbmVfYWRqdXN0XCIpe1xyXG4gICAgICAgICAgICB0aGlzLmFuY3JlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2ZywgXCJyZWN0XCIpO1xyXG4gICAgICAgICAgICB0aGlzLmFuY3JlLnNldEF0dHJpYnV0ZShcImlkXCIsIHRoaXMuX2lkKTtcclxuICAgICAgICAgICAgdGhpcy5hbmNyZS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcInJlc2l6ZV9ld1wiKTtcclxuICAgICAgICAgICAgdGhpcy5hbmNyZS5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLCB0aGlzLnRhaWxsZSk7XHJcbiAgICAgICAgICAgIHRoaXMuYW5jcmUuc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsIHRoaXMudGFpbGxlKTtcclxuICAgICAgICAgICAgdGhpcy5hbmNyZS5zZXRBdHRyaWJ1dGUoXCJ4XCIsIHRoaXMuX3gpO1xyXG4gICAgICAgICAgICB0aGlzLmFuY3JlLnNldEF0dHJpYnV0ZShcInlcIiwgdGhpcy5feSk7XHJcbiAgICAgICAgICAgIHRoaXMuYW5jcmUuc2V0QXR0cmlidXRlKFwiZmlsbFwiLCBcImJsYWNrXCIpO1xyXG4gICAgICAgICAgICB2YXIgc3ZnRG9jID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc3ZnJyk7XHJcbiAgICAgICAgICAgIHN2Z0RvYy5hcHBlbmRDaGlsZCh0aGlzLmFuY3JlKTtcclxuICAgICAgICB9IFxyXG4gICAgfVxyXG4gICAgZ2V0IHgoKSB7IHJldHVybiB0aGlzLl94fTtcclxuICAgIGdldCB5KCkgeyByZXR1cm4gdGhpcy5feX07XHJcbiAgICBzZXRkeCh4KSB7IHRoaXMuX3ggKz0geH07XHJcbiAgICBzZXRkeSh5KSB7IHRoaXMuX3kgKz0geX07XHJcbiAgICBnZXQgdGFpbGxlKCkgeyByZXR1cm4gdGhpcy5fdGFpbGxlfTtcclxuICAgIG1vdmVhbmNyZSgpe1xyXG4gICAgICAgIGlmICh0aGlzLl90eXBlID09IFwicmVjdF9yZXNpemVcIiB8fCB0aGlzLl90eXBlID09IFwiY2lyY2xlX3Jlc2l6ZVwiIHx8IHRoaXMuX3R5cGUgPT0gXCJsaW5lX2FkanVzdFwiKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYW5jcmUuc2V0QXR0cmlidXRlKFwieFwiLCB0aGlzLl94KTtcclxuICAgICAgICAgICAgdGhpcy5hbmNyZS5zZXRBdHRyaWJ1dGUoXCJ5XCIsIHRoaXMuX3kpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIG1vdmUoeCwgeSl7XHJcbiAgICAgICAgdGhpcy5zZXRkeCh4KTtcclxuICAgICAgICB0aGlzLnNldGR5KHkpO1xyXG4gICAgICAgIHRoaXMubW92ZWFuY3JlKCk7XHJcbiAgICAgICAgdmFyIGZvcm1lX2FjdHUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmlkKTtcclxuICAgICAgICBmb3JtZV9hY3R1LnNldEF0dHJpYnV0ZShcInhcIiwgdGhpcy54KTtcclxuICAgICAgICBmb3JtZV9hY3R1LnNldEF0dHJpYnV0ZShcInlcIiwgdGhpcy55KTtcclxuICAgIH1cclxufTtcclxuXHJcbmNsYXNzIEZvcm1lIHtcclxuICAgIGNvbnN0cnVjdG9yKGlkZSkge1xyXG4gICAgICAgIHRoaXMuYW5jcmUgPSBuZXcgQW5jcmUoNTAsIDUwLCB0aGlzLmlkLCBcIm9yaWdpblwiKTtcclxuICAgICAgICB0aGlzLmNvbG9yID0gXCJ5ZWxsb3dcIjtcclxuICAgICAgICB0aGlzLmlkID0gXCJmb3JtZVwiK2lkZTtcclxuICAgIH1cclxuICAgIGRlc3NpbmVyQW5jcmUoKSB7XHJcblxyXG4gICAgfVxyXG59O1xyXG5cclxuY2xhc3MgUmVjdGFuZ2xlIGV4dGVuZHMgRm9ybWUge1xyXG4gICAgY29uc3RydWN0b3IoaWRlKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLmlkID0gaWRlO1xyXG4gICAgICAgIHRoaXMuaGF1dGV1ciA9IDgwO1xyXG4gICAgICAgIHRoaXMubGFyZ2V1ciA9IDEyMDtcclxuICAgICAgICBsZXQgbmV3UmVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmcsIFwicmVjdFwiKTtcclxuICAgICAgICAgICAgbmV3UmVjdC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCB0aGlzLmlkKTtcclxuICAgICAgICAgICAgbmV3UmVjdC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImRyYWdnYWJsZVwiKTtcclxuICAgICAgICAgICAgbmV3UmVjdC5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLCB0aGlzLmxhcmdldXIpO1xyXG4gICAgICAgICAgICBuZXdSZWN0LnNldEF0dHJpYnV0ZShcImhlaWdodFwiLCB0aGlzLmhhdXRldXIpO1xyXG4gICAgICAgICAgICBuZXdSZWN0LnNldEF0dHJpYnV0ZShcInhcIiwgKHRoaXMuYW5jcmUueCArIHRoaXMuYW5jcmUudGFpbGxlLzIpKTtcclxuICAgICAgICAgICAgbmV3UmVjdC5zZXRBdHRyaWJ1dGUoXCJ5XCIsICh0aGlzLmFuY3JlLnkgKyB0aGlzLmFuY3JlLnRhaWxsZS8yKSk7XHJcbiAgICAgICAgICAgIG5ld1JlY3Quc2V0QXR0cmlidXRlKFwiZmlsbFwiLCB0aGlzLmNvbG9yKTtcclxuICAgICAgICAgICAgbmV3UmVjdC5zZXRBdHRyaWJ1dGUoXCJzdHJva2VcIiwgXCJibGFja1wiKTtcclxuICAgICAgICAgICAgdmFyIHN2Z0RvYyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3N2ZycpO1xyXG4gICAgICAgIHN2Z0RvYy5hcHBlbmRDaGlsZChuZXdSZWN0KTtcclxuICAgICAgICB0aGlzLnJlc2l6ZSA9IG5ldyBBbmNyZSgodGhpcy5hbmNyZS54K3RoaXMubGFyZ2V1ciksICh0aGlzLmFuY3JlLnkrdGhpcy5oYXV0ZXVyKSwgdGhpcy5pZCwgXCJyZWN0X3Jlc2l6ZVwiKTtcclxuICAgIH1cclxuICAgIG1vdmUoeCwgeSl7XHJcbiAgICAgICAgdGhpcy5hbmNyZS5zZXRkeCh4KTtcclxuICAgICAgICB0aGlzLmFuY3JlLnNldGR5KHkpO1xyXG4gICAgICAgIHRoaXMucmVzaXplLnNldGR4KHgpO1xyXG4gICAgICAgIHRoaXMucmVzaXplLnNldGR5KHkpO1xyXG4gICAgICAgIHRoaXMucmVzaXplLm1vdmVhbmNyZSgpO1xyXG4gICAgICAgIHZhciBmb3JtZV9hY3R1ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5pZCk7XHJcbiAgICAgICAgZm9ybWVfYWN0dS5zZXRBdHRyaWJ1dGUoXCJ4XCIsICh0aGlzLmFuY3JlLnggKyB0aGlzLmFuY3JlLnRhaWxsZS8yKSk7XHJcbiAgICAgICAgZm9ybWVfYWN0dS5zZXRBdHRyaWJ1dGUoXCJ5XCIsICh0aGlzLmFuY3JlLnkgKyB0aGlzLmFuY3JlLnRhaWxsZS8yKSk7XHJcbiAgICB9XHJcbiAgICAvKnJlc2l6ZSh4LCB5KXtcclxuICAgICAgICB0aGlzLmFuY3JlLnNldGR4KHgpO1xyXG4gICAgICAgIHRoaXMuYW5jcmUuc2V0ZHkoeSk7XHJcbiAgICAgICAgdGhpcy5yZXNpemUuc2V0ZHgoeCk7XHJcbiAgICAgICAgdGhpcy5yZXNpemUuc2V0ZHkoeSk7XHJcbiAgICAgICAgdGhpcy5yZXNpemUubW92ZWFuY3JlKCk7XHJcbiAgICAgICAgdmFyIGZvcm1lX2FjdHUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmlkKTtcclxuICAgICAgICBmb3JtZV9hY3R1LnNldEF0dHJpYnV0ZShcIndpZHRoXCIsICh0aGlzLmFuY3JlLnggKyB0aGlzLnJlc2l6ZS54KSk7XHJcbiAgICAgICAgZm9ybWVfYWN0dS5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIiwgKHRoaXMuYW5jcmUueSArIHRoaXMucmVzaXplLnkpKTtcclxuICAgIH0qL1xyXG59O1xyXG5cclxuY2xhc3MgQ2lyY2xlIGV4dGVuZHMgRm9ybWUge1xyXG4gICAgY29uc3RydWN0b3IoaWRlKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLmlkID0gaWRlO1xyXG4gICAgICAgIHRoaXMucmF5b24gPSA0MDtcclxuICAgICAgICBsZXQgbmV3Q2lyY2xlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2ZywgXCJjaXJjbGVcIik7XHJcbiAgICAgICAgICAgIG5ld0NpcmNsZS5zZXRBdHRyaWJ1dGUoXCJpZFwiLCB0aGlzLmlkKTtcclxuICAgICAgICAgICAgbmV3Q2lyY2xlLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiZHJhZ2dhYmxlXCIpO1xyXG4gICAgICAgICAgICBuZXdDaXJjbGUuc2V0QXR0cmlidXRlKFwiY3hcIiwgdGhpcy5hbmNyZS54KTtcclxuICAgICAgICAgICAgbmV3Q2lyY2xlLnNldEF0dHJpYnV0ZShcImN5XCIsIHRoaXMuYW5jcmUueSk7XHJcbiAgICAgICAgICAgIG5ld0NpcmNsZS5zZXRBdHRyaWJ1dGUoXCJyXCIsIHRoaXMucmF5b24pO1xyXG4gICAgICAgICAgICBuZXdDaXJjbGUuc2V0QXR0cmlidXRlKFwiZmlsbFwiLCB0aGlzLmNvbG9yKTtcclxuICAgICAgICAgICAgbmV3Q2lyY2xlLnNldEF0dHJpYnV0ZShcInN0cm9rZVwiLCBcImJsYWNrXCIpO1xyXG4gICAgICAgICAgICB2YXIgc3ZnRG9jID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc3ZnJyk7XHJcbiAgICAgICAgc3ZnRG9jLmFwcGVuZENoaWxkKG5ld0NpcmNsZSk7XHJcbiAgICAgICAgdGhpcy5yZXNpemUgPSBuZXcgQW5jcmUoKHRoaXMuYW5jcmUueCt0aGlzLnJheW9uLXRoaXMuYW5jcmUudGFpbGxlLzIpLCAodGhpcy5hbmNyZS55KSwgdGhpcy5pZCwgXCJjaXJjbGVfcmVzaXplXCIpO1xyXG4gICAgfVxyXG4gICAgbW92ZSh4LCB5KXtcclxuICAgICAgICB0aGlzLmFuY3JlLnNldGR4KHgpO1xyXG4gICAgICAgIHRoaXMuYW5jcmUuc2V0ZHkoeSk7XHJcbiAgICAgICAgdGhpcy5yZXNpemUuc2V0ZHgoeCk7XHJcbiAgICAgICAgdGhpcy5yZXNpemUuc2V0ZHkoeSk7XHJcbiAgICAgICAgdGhpcy5yZXNpemUubW92ZWFuY3JlKCk7XHJcbiAgICAgICAgdmFyIGZvcm1lX2FjdHUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmlkKTtcclxuICAgICAgICBmb3JtZV9hY3R1LnNldEF0dHJpYnV0ZShcImN4XCIsICh0aGlzLmFuY3JlLnggKyB0aGlzLmFuY3JlLnRhaWxsZS8yKSk7XHJcbiAgICAgICAgZm9ybWVfYWN0dS5zZXRBdHRyaWJ1dGUoXCJjeVwiLCAodGhpcy5hbmNyZS55ICsgdGhpcy5hbmNyZS50YWlsbGUvMikpO1xyXG4gICAgfTtcclxufVxyXG5cclxuY2xhc3MgTGlnbmUgZXh0ZW5kcyBGb3JtZSB7XHJcbiAgICBjb25zdHJ1Y3RvcihpZGUpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMuaWQgPSBpZGU7XHJcbiAgICAgICAgbGV0IG5ld0xpbmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnLCBcImxpbmVcIik7XHJcbiAgICAgICAgICAgIG5ld0xpbmUuc2V0QXR0cmlidXRlKFwiaWRcIiwgdGhpcy5pZCk7XHJcbiAgICAgICAgICAgIG5ld0xpbmUuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJkcmFnZ2FibGVcIik7XHJcbiAgICAgICAgICAgIG5ld0xpbmUuc2V0QXR0cmlidXRlKFwieDFcIiwgdGhpcy5hbmNyZS54KTtcclxuICAgICAgICAgICAgbmV3TGluZS5zZXRBdHRyaWJ1dGUoXCJ5MVwiLCB0aGlzLmFuY3JlLnkpO1xyXG4gICAgICAgICAgICBuZXdMaW5lLnNldEF0dHJpYnV0ZShcIngyXCIsICh0aGlzLmFuY3JlLngrMTAwKSk7XHJcbiAgICAgICAgICAgIG5ld0xpbmUuc2V0QXR0cmlidXRlKFwieTJcIiwgdGhpcy5hbmNyZS55KTtcclxuICAgICAgICAgICAgbmV3TGluZS5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLCBcInN0cm9rZTpyZ2IoMjU1LDAsMCk7c3Ryb2tlLXdpZHRoOjRcIik7XHJcbiAgICAgICAgICAgIHZhciBzdmdEb2MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzdmcnKTtcclxuICAgICAgICBzdmdEb2MuYXBwZW5kQ2hpbGQobmV3TGluZSk7XHJcbiAgICAgICAgdGhpcy5nYXVjaGUgPSBuZXcgQW5jcmUoKHRoaXMuYW5jcmUueC10aGlzLmFuY3JlLnRhaWxsZS8yKSwgKHRoaXMuYW5jcmUueS10aGlzLmFuY3JlLnRhaWxsZS8yKSwgdGhpcy5pZCwgXCJsaW5lX2FkanVzdFwiKTtcclxuICAgICAgICB0aGlzLmRyb2l0ZSA9IG5ldyBBbmNyZSgodGhpcy5hbmNyZS54KzEwMC10aGlzLmFuY3JlLnRhaWxsZS8yKSwgKHRoaXMuYW5jcmUueS10aGlzLmFuY3JlLnRhaWxsZS8yKSwgdGhpcy5pZCwgXCJsaW5lX2FkanVzdFwiKTtcclxuICAgIH1cclxuICAgIG1vdmUoeCwgeSl7XHJcbiAgICAgICAgdGhpcy5nYXVjaGUuc2V0ZHgoeCk7XHJcbiAgICAgICAgdGhpcy5nYXVjaGUuc2V0ZHkoeSk7XHJcbiAgICAgICAgdGhpcy5kcm9pdGUuc2V0ZHgoeCk7XHJcbiAgICAgICAgdGhpcy5kcm9pdGUuc2V0ZHkoeSk7XHJcbiAgICAgICAgdGhpcy5nYXVjaGUubW92ZWFuY3JlKCk7XHJcbiAgICAgICAgdGhpcy5kcm9pdGUubW92ZWFuY3JlKCk7XHJcbiAgICAgICAgdmFyIGZvcm1lX2FjdHUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmlkKTtcclxuICAgICAgICBmb3JtZV9hY3R1LnNldEF0dHJpYnV0ZShcIngxXCIsICh0aGlzLmdhdWNoZS54K3RoaXMuYW5jcmUudGFpbGxlLzIpKTtcclxuICAgICAgICBmb3JtZV9hY3R1LnNldEF0dHJpYnV0ZShcInkxXCIsICh0aGlzLmdhdWNoZS55K3RoaXMuYW5jcmUudGFpbGxlLzIpKTtcclxuICAgICAgICBmb3JtZV9hY3R1LnNldEF0dHJpYnV0ZShcIngyXCIsICh0aGlzLmRyb2l0ZS54K3RoaXMuYW5jcmUudGFpbGxlLzIpKTtcclxuICAgICAgICBmb3JtZV9hY3R1LnNldEF0dHJpYnV0ZShcInkyXCIsICh0aGlzLmRyb2l0ZS55K3RoaXMuYW5jcmUudGFpbGxlLzIpKTtcclxuICAgIH07ICBcclxufVxyXG5cclxuY2xhc3MgRm9ybWVze1xyXG4gICAgY29uc3RydWN0b3IodHlwZSwgaWQpe1xyXG4gICAgICAgIHRoaXMuZm9ybWVzID0gbmV3IEFycmF5KCk7XHJcbiAgICB9XHJcbiAgICBhZGRGb3JtZSh0eXBlLCBpZCl7XHJcbiAgICAgICAgaWYgKHR5cGUgPT0gXCJyZWN0XCIpe1xyXG4gICAgICAgICAgICB0aGlzLmZvcm1lc1tpZF0gPSBuZXcgUmVjdGFuZ2xlKGlkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodHlwZSA9PSBcImNpcmNsZVwiKXtcclxuICAgICAgICAgICAgdGhpcy5mb3JtZXNbaWRdID0gbmV3IENpcmNsZShpZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHR5cGUgPT0gXCJsaWduZVwiKXtcclxuICAgICAgICAgICAgdGhpcy5mb3JtZXNbaWRdID0gbmV3IExpZ25lKGlkKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn07XHJcblxyXG5mdW5jdGlvbiBpbml0U2NyaXB0KClcclxue1xyXG4gICAgdmFyIHN2ZyA9IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIjtcclxuICAgIHZhciBzdmdEb2MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzdmcnKTtcclxuICAgIHZhciBjYW52YXMgPSBuZXcgRm9ybWVzO1xyXG4gICBcclxuICAgIGZ1bmN0aW9uIGdldFJhbmRvbUludChtYXgpIHtcclxuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogTWF0aC5mbG9vcihtYXgpKTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgZHJhd0NpcmNsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaXJjbGUnKTtcclxuICAgIGRyYXdDaXJjbGUub25jbGljayA9IGZ1bmN0aW9uIGNyZWVfY2VyY2xlKGV2dCkge1xyXG4gICAgICAgIGNhbnZhcy5hZGRGb3JtZShcImNpcmNsZVwiLCBhdHRyaWJfaWQoKSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coc3ZnRG9jKTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgZHJhd1JlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVjdCcpO1xyXG4gICAgZHJhd1JlY3Qub25jbGljayA9IGZ1bmN0aW9uIGNyZWVfcmVjdGFuZ2xlKGV2dCkge1xyXG4gICAgICAgIGNhbnZhcy5hZGRGb3JtZShcInJlY3RcIiwgYXR0cmliX2lkKCkpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHN2Z0RvYyk7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGRyYXdMaW5lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xpZ25lJyk7XHJcbiAgICBkcmF3TGluZS5vbmNsaWNrID0gZnVuY3Rpb24gY3JlZV9yZWN0YW5nbGUoZXZ0KSB7XHJcbiAgICAgICAgY2FudmFzLmFkZEZvcm1lKFwibGlnbmVcIiwgYXR0cmliX2lkKCkpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHN2Z0RvYyk7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIHNlbGVjdGVkRWxlbWVudCA9IDA7XHJcbiAgICB2YXIgY3VycmVudFggPSAwO1xyXG4gICAgdmFyIGN1cnJlbnRZID0gMDtcclxuICAgIHZhciBmb3JtZVggPSAwO1xyXG4gICAgdmFyIGZvcm1lWSA9IDA7XHJcblxyXG4gICAgc3ZnRG9jLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGZ1bmN0aW9uKGV2dCkge1xyXG4gICAgICAgIHNlbGVjdGVkRWxlbWVudCA9IGV2dC50YXJnZXQ7XHJcbiAgICAgICAgY3VycmVudFggPSBldnQuY2xpZW50WDtcclxuICAgICAgICBjdXJyZW50WSA9IGV2dC5jbGllbnRZO1xyXG4gICAgICAgIGZvcm1lWCA9IHBhcnNlRmxvYXQoc2VsZWN0ZWRFbGVtZW50LmdldEF0dHJpYnV0ZU5TKG51bGwsIFwieFwiKSk7XHJcbiAgICAgICAgZm9ybWVZID0gcGFyc2VGbG9hdChzZWxlY3RlZEVsZW1lbnQuZ2V0QXR0cmlidXRlTlMobnVsbCwgXCJ5XCIpKTtcclxuXHJcbiAgICAgICAgdmFyIG9ubW91c2Vtb3ZlID0gZnVuY3Rpb24oZXZ0KSB7XHJcbiAgICAgICAgICAgIHNlbGVjdGVkRWxlbWVudCA9IGV2dC50YXJnZXQ7XHJcbiAgICAgICAgICAgIHZhciBkeCA9IGV2dC5jbGllbnRYIC0gY3VycmVudFg7XHJcbiAgICAgICAgICAgIHZhciBkeSA9IGV2dC5jbGllbnRZIC0gY3VycmVudFk7XHJcbiAgICAgICAgICAgIC8vZm9ybWVYICs9IGR4O1xyXG4gICAgICAgICAgICAvL2Zvcm1lWSArPSBkeTtcclxuICAgICAgICAgICAgaWYoc2VsZWN0ZWRFbGVtZW50IT0wKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWRFbGVtZW50ICE9IHN2Z0RvYykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYW52YXMuZm9ybWVzW3BhcnNlRmxvYXQoc2VsZWN0ZWRFbGVtZW50LmdldEF0dHJpYnV0ZU5TKG51bGwsIFwiaWRcIikpXS5tb3ZlKGR4LCBkeSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vICAgIHNlbGVjdGVkRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJ4XCIsIGZvcm1lWCk7XHJcbiAgICAgICAgICAgIC8vICAgIHNlbGVjdGVkRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJ5XCIsIGZvcm1lWSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY3VycmVudFggPSBldnQuY2xpZW50WDtcclxuICAgICAgICAgICAgY3VycmVudFkgPSBldnQuY2xpZW50WTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBzdmdEb2MuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgb25tb3VzZW1vdmUsIGZhbHNlKTtcclxuXHJcbiAgICAgICAgc3ZnRG9jLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBmdW5jdGlvbihldnQpIHtcclxuICAgICAgICAgICAgaWYgKHNlbGVjdGVkRWxlbWVudCAhPSAwKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxlY3RlZEVsZW1lbnQgPSAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHN2Z0RvYy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBvbm1vdXNlbW92ZSk7XHJcbiAgICAgICAgfSwgZmFsc2UpO1xyXG4gICAgfSwgZmFsc2UpO1xyXG4gICAgICAgIFxyXG5cclxuXHJcbn1cclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLGluaXRTY3JpcHQpO1xyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4gLyp2YXIgcHQgPSBzdmdEb2MuY3JlYXRlU1ZHUG9pbnQoKTtcclxuICAgIFxyXG5cclxuICAgIGZ1bmN0aW9uIGN1cnNvclBvaW50KGV2dCl7XHJcbiAgICAgICAgcHQueCA9IGV2dC5jbGllbnRYO1xyXG4gICAgICAgIHB0LnkgPSBldnQuY2xpZW50WTtcclxuICAgICAgICAvL2lsIG1hbnF1ZSB1bmUgdHJhbnNmb3JtYXRpb24gc2kgbGUgY2FudmFzIGVzdCBkw6ljYWzDqSBvdSB0b3VybsOpIC4uLlxyXG4gICAgXHJcblxyXG4gICAgc3ZnRG9jLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIGZ1bmN0aW9uKGV2dCkge1xyXG4gICAgICAgIHZhciBsb2MgPSBjdXJzb3JQb2ludChldnQpO1xyXG4gICAgICAgIHZhciBjb29yZHMgPSBuZXcgT2JqZWN0KCk7XHJcbiAgICAgICAgY29vcmRzLlggPSBwdC54O1xyXG4gICAgICAgIGNvb3Jkcy5ZID0gcHQueTtcclxuICAgICAgICB2YXIgY29vcmRvb25lZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY29vcmRvJyk7XHJcbiAgICAgICAgY29vcmRvb25lZXMuaW5uZXJIVE1MID0gXCJDb29yZG9ubsOpcyBkdSBjdXJzZXVyIDogWCA9IFwiICsgY29vcmRzLlggKyBcIiA7IFkgPSBcIiArIGNvb3Jkcy5ZO1xyXG4gICAgfSwgZmFsc2UpOyovXHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///0\n')},function(module,exports,__webpack_require__){eval('// removed by extract-text-webpack-plugin\n    if(false) {\n      // 1519652839799\n      var cssReload = require("../../node_modules/css-hot-loader/hotModuleReplacement.js")(module.id, {"fileMap":"{fileName}"});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  //# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc3R5bGVzaGVldHMvc3R5bGVzLnNjc3M/MzE1OSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQSx1R0FBdUcsWUFBWSxTQUFTLEVBQUU7QUFDOUg7QUFDQTtBQUNBIiwiZmlsZSI6IjEuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyByZW1vdmVkIGJ5IGV4dHJhY3QtdGV4dC13ZWJwYWNrLXBsdWdpblxuICAgIGlmKG1vZHVsZS5ob3QpIHtcbiAgICAgIC8vIDE1MTk2NTI4Mzk3OTlcbiAgICAgIHZhciBjc3NSZWxvYWQgPSByZXF1aXJlKFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1ob3QtbG9hZGVyL2hvdE1vZHVsZVJlcGxhY2VtZW50LmpzXCIpKG1vZHVsZS5pZCwge1wiZmlsZU1hcFwiOlwie2ZpbGVOYW1lfVwifSk7XG4gICAgICBtb2R1bGUuaG90LmRpc3Bvc2UoY3NzUmVsb2FkKTtcbiAgICAgIG1vZHVsZS5ob3QuYWNjZXB0KHVuZGVmaW5lZCwgY3NzUmVsb2FkKTtcbiAgICB9XG4gIFxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL3N0eWxlc2hlZXRzL3N0eWxlcy5zY3NzXG4vLyBtb2R1bGUgaWQgPSAxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///1\n')}]);